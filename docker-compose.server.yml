version: "3.9"

services:

  backend:
    build:
      context: .
      dockerfile: django_backend/Dockerfile.backend
    container_name: donut-backend
    working_dir: /app

    network_mode: "host"

    env_file:
      - ./django_backend/.env


    environment:
      HTTP_PROXY: "http://127.0.0.1:8888"
      HTTPS_PROXY: "http://127.0.0.1:8888"
      http_proxy: "http://127.0.0.1:8888"
      https_proxy: "http://127.0.0.1:8888"
      NO_PROXY: "localhost,127.0.0.1"
    volumes:
      - ./django_backend:/app/django_backend
    restart: unless-stopped


  frontend:
    build:
      context: ./front_end
      dockerfile: Dockerfile.frontend
    container_name: donut-frontend
    working_dir: /app

    network_mode: "host"



    restart: unless-stopped
